(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686,542],{7480:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/report",function(){return t(8330)}])},9542:function(e,n,t){"use strict";t.r(n),t.d(n,{OnDefault:function(){return c},OnDesktop:function(){return i},OnMobile:function(){return a},OnTablet:function(){return l}});var r=t(1852);function i(e){var n=e.children;return(0,r.useMediaQuery)({minWidth:992})?n:null}function l(e){var n=e.children;return(0,r.useMediaQuery)({minWidth:768,maxWidth:991})?n:null}function a(e){var n=e.children;return(0,r.useMediaQuery)({maxWidth:767})?n:null}function c(e){var n=e.children;return(0,r.useMediaQuery)({minWidth:768})?n:null}},8330:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Q}});var r=t(5893),i=t(7294),l=t(9008),a=t.n(l),c=t(894),o=t(2806),s=t(2587),u=t(1230),d=t(5746),h=t(6376),p=t(381),f=t.n(p),m=t(9615),x=t(8542),j=t(8939),g=t(8453),y=t(2645),v=t(6024),b=t(5152),Z=t.n(b),_=t(1416);function k(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function w(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(o){c=!0,i=o}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return k(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return k(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var O=Z()((function(){return Promise.resolve().then(t.bind(t,9542)).then((function(e){return e.OnDesktop}))}),{loadableGenerated:{webpack:function(){return[9542]}},ssr:!1}),S=Z()((function(){return Promise.resolve().then(t.bind(t,9542)).then((function(e){return e.OnMobile}))}),{loadableGenerated:{webpack:function(){return[9542]}},ssr:!1});function I(e){var n,t,l,a,c,s,h=w(m.Z.useForm(),1)[0],p=(0,i.useContext)(_.Z).types,f=(0,i.useState)(!0),b=f[0],Z=f[1],k=(0,i.useState)(!1),I=k[0],C=k[1],A=function(){C((function(e){return!e}))},M=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{e.onValuesChange(n,t)}catch(r){}},P=function(){h.resetFields(),M(null,!0),Z(!0)},D=(0,r.jsx)(m.Z,{style:{marginBottom:-20},form:h,onValuesChange:function(e,n){n.date||n.province||n.age||n.occupation||n.suspect_relationship||n.circumstance||n.method?(Z(!1),M(n,!1)):(M(n,!0),Z(!0))},layout:"vertical",children:(0,r.jsxs)(u.Z,{gutter:[10,0],children:[(0,r.jsx)(d.Z,{xs:24,sm:24,md:4,lg:4,children:(0,r.jsx)(m.Z.Item,{label:"Date",name:"date",children:(0,r.jsx)(x.Z.RangePicker,{style:{width:"100%"}})})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:3,lg:3,children:(0,r.jsx)(m.Z.Item,{label:"Provinces",name:"province",children:(0,r.jsx)(j.Z,{allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(n=p.provinces)||void 0===n?void 0:n.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))},"Provinces")})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:3,lg:3,children:(0,r.jsx)(m.Z.Item,{label:"Age",name:"age",children:(0,r.jsx)(j.Z,{allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(t=p.ageGroups)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))},"Age")})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:3,lg:3,children:(0,r.jsx)(m.Z.Item,{label:"Occupation",name:"occupation",children:(0,r.jsx)(j.Z,{allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(l=p.occupations)||void 0===l?void 0:l.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))},"Occupation")})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:3,lg:3,children:(0,r.jsx)(m.Z.Item,{label:"Relationship",name:"suspect_relationship",children:(0,r.jsx)(j.Z,{label:"key",allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(a=p.relationships)||void 0===a?void 0:a.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))})})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:3,lg:3,children:(0,r.jsx)(m.Z.Item,{label:"Method",name:"method",children:(0,r.jsx)(j.Z,{allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(c=p.methodsOfKilling)||void 0===c?void 0:c.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))},"Method")})}),(0,r.jsx)(d.Z,{xs:24,sm:24,md:4,lg:4,children:(0,r.jsx)(m.Z.Item,{label:"Circumstance",name:"circumstance",children:(0,r.jsx)(j.Z,{allowClear:!0,style:{width:"100%"},children:null===p||void 0===p||null===(s=p.apparentCircumstances)||void 0===s?void 0:s.map((function(e){return(0,r.jsx)(j.Z.Option,{value:e,children:e},e)}))},"Circumstance")})}),(0,r.jsx)(O,{children:(0,r.jsx)(d.Z,{xs:24,sm:24,md:1,lg:1,children:(0,r.jsx)(m.Z.Item,{label:" ",children:(0,r.jsx)(o.Z,{disabled:b,onClick:P,icon:(0,r.jsx)(y.Z,{}),block:!0,danger:!0,type:"primary"})})})}),(0,r.jsxs)(S,{children:[(0,r.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,children:(0,r.jsx)(m.Z.Item,{label:" ",children:(0,r.jsx)(o.Z,{disabled:b,onClick:P,icon:(0,r.jsx)(y.Z,{}),block:!0,danger:!0,type:"primary"})})}),(0,r.jsx)(d.Z,{xs:12,sm:12,md:12,lg:12,children:(0,r.jsx)(m.Z.Item,{label:" ",children:(0,r.jsx)(o.Z,{onClick:A,icon:(0,r.jsx)(v.Z,{}),block:!0,type:"primary",children:"Filter"})})})]})]})});return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(O,{children:D}),(0,r.jsxs)(S,{children:[(0,r.jsx)(g.Z,{forceRender:!0,title:"Apply Filters",visible:I,onClose:A,width:"100%",children:D}),(0,r.jsx)(o.Z,{style:{marginBottom:-10},onClick:A,icon:(0,r.jsx)(v.Z,{}),block:!0,type:"primary",children:"Filters"})]})]})}var C=t(1104),A=t(4763),M=t(6805),P=t(7171),D=t(1912),E="YYYY-MM-DD";function z(e,n,t){var r=n.filter((function(n){return f()(n.incident_date).isBetween(e[0],e[1])}));return null!==t&&(t.province&&(r=r.filter((function(e){return e.incident_province===t.province}))),t.age&&(r=r.filter((function(e){return e.age_range===t.age}))),t.occupation&&(r=r.filter((function(e){return e.occupation===t.occupation}))),t.suspect_relationship&&(r=r.filter((function(e){return e.relationship_to_principal_suspect===t.suspect_relationship}))),t.method&&(r=r.filter((function(e){return e.apparent_method_of_killing===t.method}))),t.circumstance&&(r=r.filter((function(e){return e.apparent_circumstances===t.circumstance})))),r}function N(e){var n=e.ranges,t=e.filters;if(0===n.length)return(0,r.jsx)("span",{});var l=(0,i.useContext)(_.Z),a=z(n[0],l.records,t),c=z(n[1],l.records,t),o=(c.length-a.length)/(0===a.length?1:a.length)*100;return Number.isNaN(o)&&(o=0),(0,r.jsxs)(u.Z,{gutter:[20,20],justify:"center",children:[(0,r.jsx)(d.Z,{xs:8,sm:8,md:5,lg:5,children:(0,r.jsx)(C.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(A.Z,{title:"".concat(n[0][0].format(E)," \u2192 ").concat(n[0][1].format(E)),value:a.length,precision:0,prefix:(0,r.jsx)(M.Z,{})})})}),(0,r.jsx)(d.Z,{xs:8,sm:8,md:5,lg:5,children:(0,r.jsx)(C.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(A.Z,{title:"".concat(n[1][0].format(E)," \u2192 ").concat(n[1][1].format(E)),value:c.length,precision:0,prefix:(0,r.jsx)(M.Z,{})})})}),(0,r.jsx)(d.Z,{xs:8,sm:8,md:5,lg:5,children:(0,r.jsx)(C.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(A.Z,{title:"Compared to last period",value:o,precision:1,valueStyle:{color:o<0?"#3f8600":"#cf1322"},prefix:o<0?(0,r.jsx)(P.Z,{}):(0,r.jsx)(D.Z,{}),suffix:"%"})})})]})}var R=t(9542);function F(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function W(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){W(e,n,t[n])}))}return e}function B(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(o){c=!0,i=o}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return F(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return F(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Q=function(){var e=[{title:"Date",dataIndex:"incident_date",key:"incident_date",width:120,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Age",dataIndex:"age_range",key:"age_range",width:100,render:function(e){return(0,r.jsx)("span",{children:e})},responsive:["sm"]},{title:"Province",dataIndex:"incident_province",key:"incident_province",width:100,render:function(e){return(0,r.jsx)("span",{children:e})},responsive:["lg"]},{title:"Occupation",dataIndex:"occupation",key:"occupation",width:150,render:function(e){return(0,r.jsx)("span",{children:e})},responsive:["lg"]},{title:"Suspect",dataIndex:"relationship_to_principal_suspect",key:"relationship_to_principal_suspect",width:150,render:function(e){return(0,r.jsx)("span",{children:e})},responsive:["lg"]},{title:"Method",dataIndex:"apparent_method_of_killing",key:"apparent_method_of_killing",width:150,render:function(e){return(0,r.jsx)("span",{children:e})},responsive:["lg"]}],n={pageSize:10,current:1,hideOnSinglePage:!0},t=(0,i.useContext)(_.Z),l=(0,i.useState)(n),p=l[0],m=l[1],x=(0,i.useState)([]),j=x[0],g=x[1],y=(0,i.useState)([f()(),f()()]),v=y[0],b=y[1],Z=(0,i.useState)([f()(),f()()]),k=Z[0],w=Z[1],O=(0,i.useState)(!1),S=O[0],C=O[1],A=(0,i.useState)(null),M=A[0],P=A[1];return(0,i.useEffect)((function(){g(t.records),m((function(){return T({},n,{total:t.records.length})}))}),[t]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Women's rights reserved"}),(0,r.jsx)("meta",{name:"description",content:"is a virtual platform that documents women and girls killed in the name of honour within the Iraqi Kurdistan Region"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{gutter:[10,20],children:[(0,r.jsx)(d.Z,{span:24,children:(0,r.jsx)(I,{onValuesChange:function(e,r){if(C(!1),r)P(null),g(t.records),m((function(){return T({},n,{total:t.records.length})}));else{P(e);var i=t.records;if(e.date&&e.date.length>0){var l=B(e.date,2),a=l[0],c=l[1],o=Math.abs(a.diff(c,"days")),s=[f()(a).subtract(o,"days"),a];w(e.date),b(s),C(!0),i=i.filter((function(e){return f()(e.incident_date).isBetween(a,c)}))}e.province&&(i=i.filter((function(n){return n.incident_province===e.province}))),e.age&&(i=i.filter((function(n){return n.age_range===e.age}))),e.occupation&&(i=i.filter((function(n){return n.occupation===e.occupation}))),e.suspect_relationship&&(i=i.filter((function(n){return n.relationship_to_principal_suspect===e.suspect_relationship}))),e.method&&(i=i.filter((function(n){return n.apparent_method_of_killing===e.method}))),e.circumstance&&(i=i.filter((function(n){return n.apparent_circumstances===e.circumstance}))),g(i),m((function(){return T({},n,{current:1,total:i.length})}))}}})}),(0,r.jsx)(d.Z,{span:24,children:(0,r.jsx)(N,{ranges:S?[v,k]:[],filters:M})}),(0,r.jsx)(d.Z,{span:24,children:(0,r.jsx)(h.Z,{size:"small",bordered:!0,columns:e,dataSource:j,onChange:function(e){m((function(n){return T({},n,e)}))},pagination:p,rowKey:function(e){return"".concat(e.name,"-").concat(e.incident_date,"-").concat(e.age_range)},expandable:{expandedRowRender:function(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(R.OnDesktop,{children:[(0,r.jsx)(c.Z.Paragraph,{style:{margin:0,padding:10,borderRadius:5},copyable:!0,children:e.incident_description}),""!==e.link1?(0,r.jsx)(o.Z,{size:"small",href:e.link1,target:"_blank",type:"primary",children:"Source 1"}):null,"\xa0",""!==e.link2?(0,r.jsx)(o.Z,{size:"small",href:e.link2,target:"_blank",type:"primary",children:"Source 2"}):null,"\xa0",""!==e.link3?(0,r.jsx)(o.Z,{size:"small",href:e.link3,target:"_blank",type:"primary",children:"Source 3"}):null]}),(0,r.jsx)(R.OnMobile,{children:(0,r.jsxs)(s.Z,{column:24,layout:"vertical",bordered:!0,size:"small",children:[(0,r.jsx)(s.Z.Item,{span:12,label:"Method of killing",children:e.apparent_method_of_killing}),(0,r.jsx)(s.Z.Item,{span:12,label:"Circumstances",children:e.apparent_circumstances}),(0,r.jsx)(s.Z.Item,{span:12,label:"Suspect",children:e.relationship_to_principal_suspect}),(0,r.jsx)(s.Z.Item,{span:12,label:"Occupation",children:e.occupation}),(0,r.jsx)(s.Z.Item,{span:12,label:"Province",children:e.incident_province}),(0,r.jsxs)(s.Z.Item,{span:12,label:"Sources",children:[""!==e.link1?(0,r.jsx)(o.Z,{size:"small",href:e.link1,target:"_blank",type:"primary",children:"Source 1"}):null,"\xa0",""!==e.link2?(0,r.jsx)(o.Z,{size:"small",href:e.link2,target:"_blank",type:"primary",children:"Source 2"}):null,"\xa0",""!==e.link3?(0,r.jsx)(o.Z,{size:"small",href:e.link3,target:"_blank",type:"primary",children:"Source 3"}):null]}),(0,r.jsx)(s.Z.Item,{span:24,label:"Description",children:(0,r.jsx)(c.Z.Paragraph,{style:{margin:0,padding:10,borderRadius:5},copyable:!0,children:e.incident_description})})]})})]})},rowExpandable:function(e){return""!==e.incident_description}}})})]})]})}}},function(e){e.O(0,[885,816,852,121,774,888,179],(function(){return n=7480,e(e.s=n);var n}));var n=e.O();_N_E=n}]);