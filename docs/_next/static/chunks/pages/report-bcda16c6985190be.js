(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[686],{7480:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/report",function(){return t(8330)}])},8330:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return M}});var r=t(5893),i=t(7294),l=t(9008),a=t.n(l),c=t(894),o=t(2806),u=t(1230),s=t(5746),d=t(4490),p=t(381),f=t.n(p),h=t(9615),m=t(8542),x=t(8939),j=t(2645),g=t(1416);function y(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function v(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(o){c=!0,i=o}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return y(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return y(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){var n,t,l,a,c,d,p=v(h.Z.useForm(),1)[0],f=(0,i.useContext)(g.Z).types,y=(0,i.useState)(!0),_=y[0],Z=y[1],b=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];try{e.onValuesChange(n,t)}catch(r){}};return(0,r.jsx)(h.Z,{style:{marginBottom:-20},form:p,onValuesChange:function(e,n){n.date||n.province||n.age||n.occupation||n.suspect_relationship||n.circumstance||n.method?(Z(!1),b(n,!1)):(b(n,!0),Z(!0))},layout:"vertical",children:(0,r.jsxs)(u.Z,{gutter:[10,0],children:[(0,r.jsx)(s.Z,{span:4,children:(0,r.jsx)(h.Z.Item,{label:"Date",name:"date",children:(0,r.jsx)(m.Z.RangePicker,{})})}),(0,r.jsx)(s.Z,{span:3,children:(0,r.jsx)(h.Z.Item,{label:"Provinces",name:"province",children:(0,r.jsx)(x.Z,{allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(n=f.provinces)||void 0===n?void 0:n.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))},"Provinces")})}),(0,r.jsx)(s.Z,{span:3,children:(0,r.jsx)(h.Z.Item,{label:"Age",name:"age",children:(0,r.jsx)(x.Z,{allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(t=f.ageGroups)||void 0===t?void 0:t.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))},"Age")})}),(0,r.jsx)(s.Z,{span:3,children:(0,r.jsx)(h.Z.Item,{label:"Occupation",name:"occupation",children:(0,r.jsx)(x.Z,{allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(l=f.occupations)||void 0===l?void 0:l.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))},"Occupation")})}),(0,r.jsx)(s.Z,{span:3,children:(0,r.jsx)(h.Z.Item,{label:"Suspect Relationship",name:"suspect_relationship",children:(0,r.jsx)(x.Z,{label:"key",allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(a=f.relationships)||void 0===a?void 0:a.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))})})}),(0,r.jsx)(s.Z,{span:3,children:(0,r.jsx)(h.Z.Item,{label:"Method",name:"method",children:(0,r.jsx)(x.Z,{allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(c=f.methodsOfKilling)||void 0===c?void 0:c.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))},"Method")})}),(0,r.jsx)(s.Z,{span:4,children:(0,r.jsx)(h.Z.Item,{label:"Circumstance",name:"circumstance",children:(0,r.jsx)(x.Z,{allowClear:!0,style:{width:"100%"},children:null===f||void 0===f||null===(d=f.apparentCircumstances)||void 0===d?void 0:d.map((function(e){return(0,r.jsx)(x.Z.Option,{value:e,children:e},e)}))},"Circumstance")})}),(0,r.jsx)(s.Z,{span:1,children:(0,r.jsx)(h.Z.Item,{label:" ",children:(0,r.jsx)(o.Z,{disabled:_,onClick:function(){p.resetFields(),b(null,!0),Z(!0)},icon:(0,r.jsx)(j.Z,{}),block:!0,danger:!0,type:"primary"})})})]})})}var Z=t(1104),b=t(4763),w=t(6805),k=t(7171),S=t(1912),O="YYYY-MM-DD";function C(e,n,t){var r=n.filter((function(n){return f()(n.incident_date).isBetween(e[0],e[1])}));return null!==t&&(t.province&&(r=r.filter((function(e){return e.incident_province===t.province}))),t.age&&(r=r.filter((function(e){return e.age_range===t.age}))),t.occupation&&(r=r.filter((function(e){return e.occupation===t.occupation}))),t.suspect_relationship&&(r=r.filter((function(e){return e.relationship_to_principal_suspect===t.suspect_relationship}))),t.method&&(r=r.filter((function(e){return e.apparent_method_of_killing===t.method}))),t.circumstance&&(r=r.filter((function(e){return e.apparent_circumstances===t.circumstance})))),r}function I(e){var n=e.ranges,t=e.filters;if(0===n.length)return(0,r.jsx)("span",{});var l=(0,i.useContext)(g.Z),a=C(n[0],l.records,t),c=C(n[1],l.records,t),o=(c.length-a.length)/(0===a.length?1:a.length)*100;return Number.isNaN(o)&&(o=0),console.log(a),console.log(c),(0,r.jsxs)(u.Z,{gutter:[20,20],justify:"center",children:[(0,r.jsx)(s.Z,{span:5,children:(0,r.jsx)(Z.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(b.Z,{title:"".concat(n[0][0].format(O)," \u2192 ").concat(n[0][1].format(O)),value:a.length,precision:0,prefix:(0,r.jsx)(w.Z,{})})})}),(0,r.jsx)(s.Z,{span:5,children:(0,r.jsx)(Z.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(b.Z,{title:"".concat(n[1][0].format(O)," \u2192 ").concat(n[1][1].format(O)),value:c.length,precision:0,prefix:(0,r.jsx)(w.Z,{})})})}),(0,r.jsx)(s.Z,{span:5,children:(0,r.jsx)(Z.Z,{style:{width:"100%",textAlign:"center"},children:(0,r.jsx)(b.Z,{title:"Compared to last period",value:o,precision:1,valueStyle:{color:o<0?"#3f8600":"#cf1322"},prefix:o<0?(0,r.jsx)(k.Z,{}):(0,r.jsx)(S.Z,{}),suffix:"%"})})})]})}function A(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function P(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function E(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){P(e,n,t[n])}))}return e}function N(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,i,l=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(l.push(r.value),!n||l.length!==n);a=!0);}catch(o){c=!0,i=o}finally{try{a||null==t.return||t.return()}finally{if(c)throw i}}return l}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return A(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return A(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var M=function(){var e=[{title:"Date",dataIndex:"incident_date",key:"incident_date",width:120,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Name",dataIndex:"name",key:"name",render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Age",dataIndex:"age_range",key:"age_range",width:100,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Province",dataIndex:"incident_province",key:"incident_province",width:100,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Occupation",dataIndex:"occupation",key:"occupation",width:150,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Suspect",dataIndex:"relationship_to_principal_suspect",key:"relationship_to_principal_suspect",width:150,render:function(e){return(0,r.jsx)("span",{children:e})}},{title:"Method",dataIndex:"apparent_method_of_killing",key:"apparent_method_of_killing",width:150,render:function(e){return(0,r.jsx)("span",{children:e})}}],n={pageSize:10,current:1,hideOnSinglePage:!0},t=(0,i.useContext)(g.Z),l=(0,i.useState)(n),p=l[0],h=l[1],m=(0,i.useState)([]),x=m[0],j=m[1],y=(0,i.useState)([f()(),f()()]),v=y[0],Z=y[1],b=(0,i.useState)([f()(),f()()]),w=b[0],k=b[1],S=(0,i.useState)(!1),O=S[0],C=S[1],A=(0,i.useState)(null),P=A[0],M=A[1];return(0,i.useEffect)((function(){j(t.records),h((function(){return E({},n,{total:t.records.length})}))}),[t]),(0,r.jsxs)("div",{children:[(0,r.jsxs)(a(),{children:[(0,r.jsx)("title",{children:"Women.krd"}),(0,r.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsxs)(u.Z,{gutter:[10,20],children:[(0,r.jsx)(s.Z,{span:24,children:(0,r.jsx)(_,{onValuesChange:function(e,r){if(C(!1),r)M(null),j(t.records),h((function(){return E({},n,{total:t.records.length})}));else{M(e);var i=t.records;if(e.date&&e.date.length>0){var l=N(e.date,2),a=l[0],c=l[1],o=Math.abs(a.diff(c,"days")),u=[f()(a).subtract(o,"days"),a];k(e.date),Z(u),C(!0),i=i.filter((function(e){return f()(e.incident_date).isBetween(a,c)}))}e.province&&(i=i.filter((function(n){return n.incident_province===e.province}))),e.age&&(i=i.filter((function(n){return n.age_range===e.age}))),e.occupation&&(i=i.filter((function(n){return n.occupation===e.occupation}))),e.suspect_relationship&&(i=i.filter((function(n){return n.relationship_to_principal_suspect===e.suspect_relationship}))),P.method&&(i=i.filter((function(e){return e.apparent_method_of_killing===P.method}))),P.circumstance&&(i=i.filter((function(e){return e.apparent_circumstances===P.circumstance}))),j(i),h((function(){return E({},n,{current:1,total:i.length})}))}}})}),(0,r.jsx)(s.Z,{span:24,children:(0,r.jsx)(I,{ranges:O?[v,w]:[],filters:P})}),(0,r.jsx)(s.Z,{span:24,children:(0,r.jsx)(d.Z,{size:"small",bordered:!0,columns:e,dataSource:x,onChange:function(e){h((function(n){return E({},n,e)}))},pagination:p,rowKey:function(e){return"".concat(e.name,"-").concat(e.incident_date,"-").concat(e.age_range)},expandable:{expandedRowRender:function(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.Z.Paragraph,{style:{margin:0,padding:10,borderRadius:5},copyable:!0,children:e.incident_description}),""!==e.link1?(0,r.jsx)(o.Z,{size:"small",href:e.link1,target:"_blank",type:"primary",children:"Source 1"}):null,"\xa0",""!==e.link2?(0,r.jsx)(o.Z,{size:"small",href:e.link2,target:"_blank",type:"primary",children:"Source 2"}):null,"\xa0",""!==e.link3?(0,r.jsx)(o.Z,{size:"small",href:e.link3,target:"_blank",type:"primary",children:"Source 3"}):null]})},rowExpandable:function(e){return""!==e.incident_description}}})})]})]})}}},function(e){e.O(0,[885,561,531,774,888,179],(function(){return n=7480,e(e.s=n);var n}));var n=e.O();_N_E=n}]);